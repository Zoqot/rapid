(this.webpackJsonprapid=this.webpackJsonprapid||[]).push([[0],{75:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(0),c=n(9),s=n.n(c),i=n(21),o=n(22),j=n(25),l=n(24),d=n(29),b=n(11),h=n(116),u=(n(69),n(121)),O=n(102),x=n(105),p=n(107),m=n(117),f=n(120),v=n(106),g=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",error:!1,message:"",success:!1},e.handleSubmit=function(t){t.preventDefault(),fetch(T+"/auth",{method:"POST",body:JSON.stringify({username:e.state.username,password:e.state.password}),headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){t.error?e.setState({error:!0,message:t.message}):e.setState({error:!1,message:"",success:!0})})).catch((function(t){return e.setState({error:!0,message:"Undefined error.  Are you using HTTPS?"})}))},e}return Object(o.a)(n,[{key:"validateForm",value:function(){return this.state.username.length>0&&this.state.password.length>0}},{key:"componentDidMount",value:function(){var e=this;fetch(T+"/authcheck",{credentials:"include"}).then((function(e){return e.json()})).then((function(t){t.error||e.setState({error:!1,message:"",success:!0})}))}},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"Login",style:{padding:40},children:[this.state.success?Object(r.jsx)(b.a,{to:"/jobs"}):null,Object(r.jsx)(O.a,{maxWidth:"xs",children:Object(r.jsx)("form",{onSubmit:this.handleSubmit,children:Object(r.jsxs)(x.a,{container:!0,spacing:2,children:[Object(r.jsxs)(x.a,{container:!0,direction:"row",justify:"center",spacing:2,children:[Object(r.jsx)(x.a,{item:!0,children:Object(r.jsx)(v.a,{fontSize:"large"})}),Object(r.jsx)(x.a,{item:!0,children:Object(r.jsx)(p.a,{variant:"h3",children:"Rapid Courier"})})]}),Object(r.jsxs)(x.a,{item:!0,xs:12,children:[Object(r.jsx)(m.a,{required:!0,autoFocus:!0,fullWidth:!0,id:"standard-required",label:"Username",onChange:function(t){return e.setState({username:t.target.value})}}),Object(r.jsx)("br",{})]}),Object(r.jsxs)(x.a,{item:!0,xs:12,children:[Object(r.jsx)(m.a,{required:!0,fullWidth:!0,id:"standard-password-input",type:"password",label:"Password",onChange:function(t){return e.setState({password:t.target.value})}}),Object(r.jsx)("br",{})]}),Object(r.jsx)(x.a,{item:!0,xs:12,children:Object(r.jsx)(f.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",disabled:!this.validateForm(),children:"Sign In"})}),this.state.error?Object(r.jsx)(x.a,{item:!0,children:Object(r.jsx)(p.a,{variant:"body1",children:this.state.message})}):null]})})})]})}}]),n}(a.Component),y=Object(u.a)(g),k=n(108),C=n(109),w=n(113),D=n(110),I=n(111),S=n(112),P=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"accept",value:function(e){fetch(T+"/jobs/".concat(e),{method:"DELETE",credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.error&&alert(e.message)})),this.props.rerenderParentCallback()}},{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{className:"Job",children:Object(r.jsxs)(k.a,{variant:"outlined",children:[Object(r.jsxs)(C.a,{children:[Object(r.jsx)(p.a,{gutterBottom:!0,color:"primary",variant:"h5",component:"h2",children:"Job"}),Object(r.jsxs)(x.a,{container:!0,direction:"row",alignItems:"center",children:[Object(r.jsx)(x.a,{item:!0,children:Object(r.jsx)(D.a,{})}),Object(r.jsxs)(x.a,{item:!0,children:[Object(r.jsx)(p.a,{variant:"body1",component:"p",children:"Pickup From"}),Object(r.jsx)(p.a,{variant:"body2",component:"p",children:this.props.jobInfo.PICKUP_ADDR})]})]}),Object(r.jsxs)(x.a,{container:!0,direction:"row",alignItems:"center",children:[Object(r.jsx)(x.a,{item:!0,children:Object(r.jsx)(I.a,{})}),Object(r.jsxs)(x.a,{item:!0,children:[Object(r.jsx)(p.a,{variant:"body1",component:"p",children:"Drop-off At"}),Object(r.jsx)(p.a,{variant:"body2",component:"p",children:this.props.jobInfo.DROPOFF_ADDR})]})]}),Object(r.jsxs)(x.a,{container:!0,direction:"row",alignItems:"center",children:[Object(r.jsx)(x.a,{item:!0,children:Object(r.jsx)(S.a,{})}),Object(r.jsx)(x.a,{item:!0,children:Object(r.jsx)(p.a,{variant:"body1",component:"p",children:this.props.jobInfo.PAY.toFixed(2)})})]})]}),Object(r.jsx)(w.a,{children:Object(r.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){return e.accept(e.props.jobInfo.ID)},children:"Accept"})})]})})}}]),n}(a.Component),A=n(114),F=n(115),J=n(119),R=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={error:!1,message:"",jobs:[]},e.getData=function(){fetch(T+"/jobs",{credentials:"include"}).then((function(e){return e.json()})).then((function(t){t.error?e.setState({error:!0,message:t.message}):e.setState({error:!1,jobs:t.data})}))},e}return Object(o.a)(n,[{key:"logout",value:function(){fetch(T+"/logout",{credentials:"include"})}},{key:"componentDidMount",value:function(){this.getData(),this.intervalID=setInterval(this.getData.bind(this),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"rerenderParentCallback",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{className:"Jobs",children:this.state.error?Object(r.jsxs)(p.a,{variant:"h3",children:[this.state.message,Object(r.jsx)("br",{}),"Click ",Object(r.jsx)(d.b,{to:"/login",children:"here"})," to login."]}):Object(r.jsxs)("div",{children:[Object(r.jsx)(A.a,{children:Object(r.jsxs)(F.a,{children:[Object(r.jsx)(v.a,{fontSize:"large"}),Object(r.jsx)(p.a,{variant:"h4",component:"p",children:"\xa0Rapid Courier"})]})}),Object(r.jsx)(O.a,{children:Object(r.jsxs)(J.a,{my:10,children:[this.state.error?Object(r.jsxs)("h3",{children:[this.state.message,Object(r.jsx)("br",{}),"Click ",Object(r.jsx)(d.b,{to:"/login",children:"here"})," to login."]}):Object(r.jsx)("div",{children:this.state.jobs.map((function(t){return Object(r.jsx)("li",{children:Object(r.jsx)(P,{rerenderParentCallback:function(){return e.rerenderParentCallback()},jobInfo:t})},t.ID)}))}),Object(r.jsx)("p",{}),Object(r.jsx)(f.a,{variant:"contained",onClick:function(){return e.logout()},children:"Logout"})]})})]})})}}]),n}(a.Component),T="https://warm-harbor-55067.herokuapp.com",U=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(d.a,{children:[Object(r.jsx)(h.a,{}),Object(r.jsxs)(b.d,{children:[Object(r.jsx)(b.b,{path:"/login",children:Object(r.jsx)(y,{})}),Object(r.jsx)(b.b,{path:"/jobs",children:Object(r.jsx)(R,{})}),Object(r.jsx)(b.b,{exact:!0,path:"/",children:Object(r.jsx)(b.a,{exact:!0,from:"/",to:"/login"})}),Object(r.jsx)(b.b,{exact:!0,path:"*",children:Object(r.jsx)(b.a,{exact:!0,from:"/",to:"/login"})})]})]})}}]),n}(a.Component);s.a.render(Object(r.jsx)(U,{}),document.getElementById("root"))}},[[75,1,2]]]);